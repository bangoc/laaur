project(extension C)
if (${CMAKE_SYSTEM_NAME} STREQUAL Linux)
  add_definitions(-DLINUX)
elseif (${CMAKE_SYSTEM_NAME} STREQUAL Darwin)
  add_definitions(-DMACOS)
elseif (${CMAKE_SYSTEM_NAME} STREQUAL Windows)
  add_definitions(-DWINDOWS)
endif ()
add_executable(demo main.c)